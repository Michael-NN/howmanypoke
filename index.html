<html>
	<head>
		<style>
			* {
				font-family: Verdana;
				text-align: center;
				margin: 15px;
			}
			
			button {
				font-size: 18px;
				color: white;
				background-color: blue;
				border: none;
				border-radius: 5px;
				padding: 20px 40px;
			}
            
            input {
            	margin: 0px;
            }
			
            span {
            	margin: 0px;
            }
            
			#timer {
				font-size: 35px;
			}
            
            #controlsDiv {
            	height: 30%
                margin: 0px;
            }
			
			#namedDiv {
				height: 70%;
				display: flex;
				flex-flow: column wrap;
				align-items: flex-start;
				align-content: flex-start;
                margin: 0px 15px;
                border: solid blue;
                border-radius: 10px;
                overflow: auto;
			}
            
            #namedDiv > div {
            	margin: 10px 20px;
            }
		</style>
	</head>
	<body>
	    <div id="controlsDiv">
          <h1>How Many Pokemon Can You Name in 5 Minutes?</h1>
          <p>Click 'Start' to being a 5-minute timer.  Type as many Pokemon names into the box as you can, pressing enter after each one, before time runs out.</p>

          <button id="startButton" label="start" onclick="startGame()">Start</button>

          <div id="timer"></div>

          <input id="inputBox" onkeydown="addToList(event)" autocomplete="off">

          <div id="result"></div>

          <span id="addMsg">Nice one!</span>
          <span id="repMsg">Already named that Pokemon!</span>
          <span id="badMsg">Sorry, that's not a Pokemon!</span>

          <button id="restartButton" label="restart" onclick="setUp()">Reset</button>
        </div>
		
		<div id="namedDiv"></div>
	</body>
	<script>
		const enterCode = 13;
		let startButton = document.getElementById("startButton");
		let timer = document.getElementById("timer");
		let inputBox = document.getElementById("inputBox");
		let result = document.getElementById("result");
		let addMsg = document.getElementById("addMsg");
		let repMsg = document.getElementById("repMsg");
		let badMsg = document.getElementById("badMsg");
		let restartButton = document.getElementById("restartButton");
		let namedDiv = document.getElementById("namedDiv");
		
		let namedList = [];
		
		setUp();
		
		function setUp() {
			startButton.style.display = "inline";
			timer.innerHTML = "";
			inputBox.style.display = "none";
			result.innerHTML = "";
			clearMessage();
			restartButton.style.display = "none";
			namedList = [];
			namedDiv.innerHTML = "";
		}
		
		function startGame() {
			startButton.style.display = "none"
			startTimer();
			inputBox.style.display = "inline"
            inputBox.focus();
		}
		
		function endGame() {
			inputBox.style.display = "none"
			result.innerHTML = "Time's Up!  You listed " + namedList.length + " Pokemon!";
			clearMessage();
			restartButton.style.display = "inline";
		}
		
		function startTimer() {
			timer.innerHTML = "005:00";
			incrementTimer();
		}
		
		function incrementTimer () {
			let presentTime = timer.innerHTML;
			let timeArray = presentTime.split(/[:]+/);
			let m = timeArray[0];
			let s = checkSecond((timeArray[1] - 1));
			if (s == 59) {
				m = m-1;
			}
			if( m < 0 ) {
				endGame();
			} else {
				timer.innerHTML = m + ":" + s;
				setTimeout(incrementTimer, 1000);
			}
		}
		
		function checkSecond(sec) {
			if (sec < 10 && sec >= 0) {sec = "0" + sec}; // add zero in front of numbers < 10
			if (sec < 0) {sec = "59"};
			return sec;
		}
		
		function addToList(event) {
			if (event.keyCode === enterCode) {
				let entry = inputBox.value.charAt(0).toUpperCase() + inputBox.value.toLowerCase().slice(1);
				if (pokeDex.includes(entry)) {
					if (!namedList.includes(entry)) {
						addMessage();
						namedList.push(entry);
						inputBox.value = '';
						namedDiv.innerHTML += ("<div>" + entry + "</div>");
					} else {
						repMessage();
						inputBox.value = '';
					}
				} else {
					badMessage();
					inputBox.value = '';
				}
			}
		}
		
		function addMessage() {
			addMsg.style.display = "inline";
			repMsg.style.display = "none";
			badMsg.style.display = "none";
		}
		
		function repMessage() {
			addMsg.style.display = "none";
			repMsg.style.display = "inline";
			badMsg.style.display = "none";
		}

		function badMessage() {
			addMsg.style.display = "none";
			repMsg.style.display = "none";
			badMsg.style.display = "inline";
		}

		function clearMessage() {
			addMsg.style.display = "none";
			repMsg.style.display = "none";
			badMsg.style.display = "none";
		}
		
		const pokeDex = ['Bulbasaur', 'Ivysaur', 'Venusaur', 'Charmander', 'Charmeleon', 'Charizard', 'Squirtle', 'Wartortle', 'Blastoise', 'Caterpie', 'Metapod', 'Butterfree', 'Weedle', 'Kakuna', 'Beedrill', 'Pidgey', 'Pidgeotto', 'Pidgeot', 'Rattata', 'Raticate', 'Spearow', 'Fearow', 'Ekans', 'Arbok', 'Pikachu', 'Raichu', 'Sandshrew', 'Sandslash', 'NidoranGirl', 'Nidorina', 'Nidoqueen', 'NidoranBoy', 'Nidorino', 'Nidoking', 'Clefairy', 'Clefable', 'Vulpix', 'Ninetales', 'Jigglypuff', 'Wigglytuff', 'Zubat', 'Golbat', 'Oddish', 'Gloom', 'Vileplume', 'Paras', 'Parasect', 'Venonat', 'Venomoth', 'Diglett', 'Dugtrio', 'Meowth', 'Persian', 'Psyduck', 'Golduck', 'Mankey', 'Primeape', 'Growlithe', 'Arcanine', 'Poliwag', 'Poliwhirl', 'Poliwrath', 'Abra', 'Kadabra', 'Alakazam', 'Machop', 'Machoke', 'Machamp', 'Bellsprout', 'Weepinbell', 'Victreebel', 'Tentacool', 'Tentacruel', 'Geodude', 'Graveler', 'Golem', 'Ponyta', 'Rapidash', 'Slowpoke', 'Slowbro', 'Magnemite', 'Magneton', 'Farfetch\'d', 'Doduo', 'Dodrio', 'Seel', 'Dewgong', 'Grimer', 'Muk', 'Shellder', 'Cloyster', 'Gastly', 'Haunter', 'Gengar', 'Onix', 'Drowzee', 'Hypno', 'Krabby', 'Kingler', 'Voltorb', 'Electrode', 'Exeggcute', 'Exeggutor', 'Cubone', 'Marowak', 'Hitmonlee', 'Hitmonchan', 'Lickitung', 'Koffing', 'Weezing', 'Rhyhorn', 'Rhydon', 'Chansey', 'Tangela', 'Kangaskhan', 'Horsea', 'Seadra', 'Goldeen', 'Seaking', 'Staryu', 'Starmie', 'Mr. Mime', 'Scyther', 'Jynx', 'Electabuzz', 'Magmar', 'Pinsir', 'Tauros', 'Magikarp', 'Gyarados', 'Lapras', 'Ditto', 'Eevee', 'Vaporeon', 'Jolteon', 'Flareon', 'Porygon', 'Omanyte', 'Omastar', 'Kabuto', 'Kabutops', 'Aerodactyl', 'Snorlax', 'Articuno', 'Zapdos', 'Moltres', 'Dratini', 'Dragonair', 'Dragonite', 'Mewtwo', 'Mew', 'Chikorita', 'Bayleef', 'Meganium', 'Cyndaquil', 'Quilava', 'Typhlosion', 'Totodile', 'Croconaw', 'Feraligatr', 'Sentret', 'Furret', 'Hoothoot', 'Noctowl', 'Ledyba', 'Ledian', 'Spinarak', 'Ariados', 'Crobat', 'Chinchou', 'Lanturn', 'Pichu', 'Cleffa', 'Igglybuff', 'Togepi', 'Togetic', 'Natu', 'Xatu', 'Mareep', 'Flaaffy', 'Ampharos', 'Bellossom', 'Marill', 'Azumarill', 'Sudowoodo', 'Politoed', 'Hoppip', 'Skiploom', 'Jumpluff', 'Aipom', 'Sunkern', 'Sunflora', 'Yanma', 'Wooper', 'Quagsire', 'Espeon', 'Umbreon', 'Murkrow', 'Slowking', 'Misdreavus', 'Unown', 'Wobbuffet', 'Girafarig', 'Pineco', 'Forretress', 'Dunsparce', 'Gligar', 'Steelix', 'Snubbull', 'Granbull', 'Qwilfish', 'Scizor', 'Shuckle', 'Heracross', 'Sneasel', 'Teddiursa', 'Ursaring', 'Slugma', 'Magcargo', 'Swinub', 'Piloswine', 'Corsola', 'Remoraid', 'Octillery', 'Delibird', 'Mantine', 'Skarmory', 'Houndour', 'Houndoom', 'Kingdra', 'Phanpy', 'Donphan', 'Porygon2', 'Stantler', 'Smeargle', 'Tyrogue', 'Hitmontop', 'Smoochum', 'Elekid', 'Magby', 'Miltank', 'Blissey', 'Raikou', 'Entei', 'Suicune', 'Larvitar', 'Pupitar', 'Tyranitar', 'Lugia', 'Ho-Oh', 'Celebi', 'Treecko', 'Grovyle', 'Sceptile', 'Torchic', 'Combusken', 'Blaziken', 'Mudkip', 'Marshtomp', 'Swampert', 'Poochyena', 'Mightyena', 'Zigzagoon', 'Linoone', 'Wurmple', 'Silcoon', 'Beautifly', 'Cascoon', 'Dustox', 'Lotad', 'Lombre', 'Ludicolo', 'Seedot', 'Nuzleaf', 'Shiftry', 'Taillow', 'Swelllow', 'Wingull', 'Pelipper', 'Ralts', 'Kirlia', 'Gardevoir', 'Surskit', 'Masquerain', 'Shroomish', 'Breloom', 'Slakoth', 'Vigoroth', 'Slaking', 'Nincada', 'Ninjask', 'Shedinja', 'Whismur', 'Loudred', 'Exploud', 'Makuhita', 'Hariyama', 'Azurill', 'Nosepass', 'Skitty', 'Delcatty', 'Sableye', 'Mawile', 'Aron', 'Lairon', 'Aggron', 'Meditite', 'Medicham', 'Electrike', 'Manectric', 'Plusle', 'Minun', 'Volbeat', 'Illumise', 'Roselia', 'Gulpin', 'Swalot', 'Carvanha', 'Sharpedo', 'Wailmer', 'Wailord', 'Numel', 'Camerupt', 'Torkoal', 'Spoink', 'Grumpig', 'Spinda', 'Trapinch', 'Vibrava', 'Flygon', 'Cacnea', 'Cacturne', 'Swablu', 'Altaria', 'Zangoose', 'Seviper', 'Lunatone', 'Solrock', 'Barboach', 'Whiscash', 'Corphish', 'Crawdaunt', 'Baltoy', 'Claydol', 'Lileep', 'Cradily', 'Anorith', 'Armaldo', 'Feebas', 'Milotic', 'Castform', 'Kecleon', 'Shuppet', 'Banette', 'Duskull', 'Dusclops', 'Tropius', 'Chimecho', 'Absol', 'Wynaut', 'Snorunt', 'Glalie', 'Spheal', 'Sealeo', 'Walrein', 'Clamperl', 'Huntail', 'Gorebyss', 'Relicanth', 'Luvdisc', 'Bagon', 'Shelgon', 'Salamence', 'Beldum', 'Metang', 'Metagross', 'Regirock', 'Regice', 'Registeel', 'Latias', 'Latios', 'Kyogre', 'Groudon', 'Rayquaza', 'Jirachi', 'Deoxys'];
	</script>
</html>
